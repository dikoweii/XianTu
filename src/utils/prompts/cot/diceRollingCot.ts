/**
 * @fileoverview 判定系统 CoT v2.1.0 (精简版)
 * @version 2.1.0
 * @lastUpdated 2025-11-08
 */

export const diceRollingCotPrompt = `
# 🎲 判定系统 v2.1

## 触发判断
🔴 **95%场景不判定**，仅用于：生死战斗、危险探索
❌ **禁止判定**：对话/交流/日常/确定成功/实力碾压

## 难度计算
**境界压制**：大境界±30/境，小阶段±5/阶（初期→中期→后期→圆满→极境）
**输出**：Type & Difficulty: [类型] | 基础[X] | 压制[±Y] | 最终[Z]

## 判定值计算

### 公式表
| 类型 | 先天 | 后天 |
|-----|------|------|
| 战斗 | 根骨×0.5+灵性×0.3+气运×0.2 | (后天根骨×0.5+后天灵性×0.3+后天气运×0.2)÷5 |
| 修炼 | 悟性×0.5+灵性×0.3+心性×0.2 | (后天悟性×0.5+后天灵性×0.3+后天心性×0.2)÷5 |
| 技艺 | 悟性×0.5+根骨×0.3+灵性×0.2 | (后天悟性×0.5+后天根骨×0.3+后天灵性×0.2)÷5 |
| 社交 | 魅力×0.5+悟性×0.3+心性×0.2 | (后天魅力×0.5+后天悟性×0.3+后天心性×0.2)÷5 |
| 探索 | 气运×0.5+灵性×0.3+悟性×0.2 | (后天气运×0.5+后天灵性×0.3+后天悟性×0.2)÷5 |

### 计算规则
1. 四舍五入，后天必须÷5
2. 🔴 **逐步验算**：列出所有项→逐步累加→验证结果
3. 字段名准确：阵法/法宝/功法/天赋/丹药/大道/环境（不用"装备""状态"）
4. 无加成不写，不凭空虚构

**示例**：
先天:6 + 后天:0 + 境界:11 + 法宝:10 + 功法:55 + 骰点:16
验算: 6+0=6, 6+11=17, 17+10=27, 27+55=82, 82+16=98 ✓

## 结果判定

### 判定顺序（严格）
1. **骰点优先**：1-2→大失败，19-20→完美，3-18→继续
2. **比较难度**：判定值<难度→失败，≥难度→成功，≥难度+15→大成功

### 输出格式
Result: [判定值] vs [难度] → [结果]
DiceCard: 〖类型,判定值:X,难度:Y,骰点:Z,先天:A,后天:B,境界:C,[其他加成]〗
Narrative: [纯叙事，无数字]

🔴 **DiceCard字段名必须与COT计算一致**（阵法/法宝/功法等）
`.trim();
